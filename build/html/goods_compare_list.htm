<div class="page-compare">
  {% IF compare_list_empty %}
  <p class="notice notice--attention">Ваш список сравнения пуст. Вы можете добавлять сюда товары из <a href="{CATALOG_URL}" title="Перейти в Каталог">каталога</a> и сравнивать их между собой.</p>
  <a class="button" href="{CATALOG_URL}" title="Назад в Каталог">Назад</a>
  {% ELSE %}
  <div class="compare__table">
    <!-- Фильтры таблицы сравнения -->
    <div class="compare__nav headline headline--navigation">
      <div class="compare__switcher">
        <label for="compare_show_differences" aria-label="Показать только отличия">
          <input id="compare_show_differences" type="checkbox">
          <span data-text-hide="Только отличия" data-text-show="Показать все"></span>
        </label>
      </div>
      <div class="swiper-navigation">
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>
    </div>

    <!-- Тело таблицы сравнения товаров -->
    <div class="compare__tbody">
      <!-- Строка №1 Главное изображение товара и галлерея изображений -->
      <div class="compare__line swiper">
        <div class="compare__content swiper-wrapper">
          {% FOR goods_mod_info %}
          <div class="compare__item swiper-slide">
            <picture class="compare__image">
              <source srcset="{% IF goods_mod_info.GOODS_IMAGE_EMPTY %}{ASSETS_IMAGES_PATH}no-photo.png?design=THEMENAME{% ELSE %}{goods_mod_info.GOODS_IMAGE_MEDIUM}{% ENDIF %}">
              <img src="{% IF goods_mod_info.GOODS_IMAGE_EMPTY %}{ASSETS_IMAGES_PATH}no-photo.png?design=THEMENAME{% ELSE %}{goods_mod_info.GOODS_IMAGE_MEDIUM}{% ENDIF %}" alt="{goods_mod_info.GOODS_NAME}">
            </picture>
            <a class="compare__remove button button-close" href="{COMPARE_DELETE_URL}?id={goods_mod_info.GOODS_MOD_ID}" title="Убрать из таблицы сравнения" aria-label="Убрать из таблицы сравнения">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" width="14" height="14" aria-hidden="true">
                <path d="M340.44 474.989a52.36 52.36 0 0 1 0 74.022L27.905 861.433a95.21 95.21 0 0 0-.013 134.669 95.267 95.267 0 0 0 134.706.013l312.548-312.461a52.365 52.365 0 0 1 37.015-15.331 52.365 52.365 0 0 1 37.015 15.331L861.71 996.115a95.292 95.292 0 0 0 67.471 27.878 95.303 95.303 0 0 0 67.402-28.045c37.13-37.376 36.119-98.202-1.166-135.475L683.869 549.011A52.316 52.316 0 0 1 668.533 512a52.314 52.314 0 0 1 3.986-20.031 52.3 52.3 0 0 1 11.35-16.98l311.702-311.616c37.132-37.12 38.207-97.587 1.358-134.976-8.822-8.951-19.328-16.068-30.913-20.941a95.309 95.309 0 0 0-73.234-.278 95.28 95.28 0 0 0-31.072 20.707L549.138 340.346a52.372 52.372 0 0 1-74.03 0L163.443 28.73C126.313-8.39 65.829-9.478 28.43 27.373a95.182 95.182 0 0 0-.526 135.181l312.535 312.435z">
                </path>
              </svg>
            </a>
          </div>
          {% ENDFOR %}
        </div>
      </div>
      <!-- /END Строка №1 Главное изображение товара и галлерея изображений -->

      <!-- Строка №2 Название товара -->
      <div class="compare__line swiper">
        <div class="compare__content swiper-wrapper">
          {% FOR goods_mod_info %}
          <div class="compare__item swiper-slide">
            <a class="compare__name" href="{goods_mod_info.GOODS_MOD_URL}" title="Перейти в товар {goods_mod_info.GOODS_NAME}"><span>{goods_mod_info.GOODS_NAME}</span></a>
            <!-- Если у товара есть отличительные свойства для модификации товара, допишем их к названию товара -->
            {% IFNOT goods_mod_info.goods_mod_distinctive_properties_empty %}
            <dl class="compare__mod">
              {% FOR goods_mod_distinctive_properties %}
              <dt>{goods_mod_info.goods_mod_distinctive_properties.NAME}:</dt>
              <dd>{goods_mod_info.goods_mod_distinctive_properties.VALUE};</dd>
              {% ENDFOR %}
            </dl>
            {% ENDIF %}
          </div>
          {% ENDFOR %}
        </div>
      </div>
      <!-- /END Строка №2 Название товара -->

      <!-- Строка №3 В корзину -->
      <div class="compare__line swiper">
        <div class="compare__content swiper-wrapper">
          {% FOR goods_mod_info %}
          <div class="compare__item swiper-slide">
            <form class="product__form" action="{CART_ADD_GOODS_MODIFICATION_URL}" method="post" data-id="{goods_mod_info.GOODS_MOD_ID}">
              <input type="hidden" name="hash" value="{HASH}">
              <!-- <input type="hidden" name="form[goods_id]" value="{goods.ID}"> -->
              <input type="hidden" name="form[goods_mod_id]" value="{goods_mod_info.GOODS_MOD_ID}">
              <input type="hidden" name="form[goods_name]" value="{goods_mod_info.NAME}">
              <input type="hidden" name="form[goods_desc]" value="{goods_mod_info.DESCRIPTION_SHORT}" itemprop="description">
              <input type="hidden" name="form[goods_sku]" value="{goods_mod_info.ART_NUMBER}" itemprop="sku">
              <!-- <input type="hidden" name="form[goods_from]" value="{goods_mod_info.GOODS_FROM}">
              <input type="hidden" name="form[goods_count]" value="1" class="goodsDataCount">
              <input type="hidden" name="form[goods_min_rest]" value="{goods.MIN_REST_VALUE}">
              <input type="hidden" name="form[goods_url]" value="{goods_mod_info.GOODS_MOD_URL}">
              <input type="hidden" name="form[goods_image]" value="{% IF goods_mod_info.GOODS_IMAGE_EMPTY %}{ASSETS_IMAGES_PATH}no-photo.png?design=THEMENAME{% ELSE %}{goods_mod_info.GOODS_IMAGE_SMALL}{% ENDIF %}"> -->

              <!-- Добавление товара в корзину -->
              <div class="compare__cart">
                {% IF goods_mod_info.REST_VALUE=0 %}
                <button class="add-notify" type="button" title="Уведомить о поступлении" data-dialog="#dialogNotify">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" aria-hidden="true">
                    <path d="M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"></path>
                  </svg>
                  <span>Уведомить</span>
                </button>
                {% ELSE %}
                <button class="add-cart" type="button" data-href="{CART_ADD_GOODS_MODIFICATION_URL | url_amp}?hash={HASH | url_amp}&amp;form%5Bgoods_from%5D={goods_mod_info.GOODS_FROM}&amp;form%5Bgoods_mod_id%5D={goods_mod_info.PRICE_NOW_ID}" title="Добавить в корзину &laquo;{goods_mod_info.GOODS_NAME}&raquo;">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 23" width="24" height="24" aria-hidden="true">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" d="M1.815 1.815a8.71 8.71 0 0 1 3.928 7.277v5.296a4.311 4.311 0 0 0 4.317 4.306h6.69a4.315 4.315 0 0 0 4.187-3.258l1.145-4.55C22.619 8.75 21 6.68 18.792 6.68H8.852c-2.655 0-4.209-1.852-4.209-1.852"></path>
                    <path stroke="currentColor" d="M8.549 23c-.596 0-1.08-.482-1.08-1.076 0-.595.484-1.077 1.08-1.077.596 0 1.08.482 1.08 1.076 0 .595-.484 1.077-1.08 1.077ZM17.14 23c-.597 0-1.08-.482-1.08-1.076 0-.595.483-1.077 1.08-1.077.595 0 1.078.482 1.078 1.076 0 .595-.483 1.077-1.079 1.077Z"></path>
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" d="M18.793 10.125H9.196"></path>
                  </svg>
                  <span>Купить</span>
                </button>
                {% ENDIF %}
              </div>
              <!-- /END Добавление товара в корзину -->
            </form>
          </div>
          {% ENDFOR %}
        </div>
      </div>
      <!-- /END Строка №3 В корзину -->

      <!-- Строка №4 Цены товарных модификаций -->
      <div class="compare__line swiper {% IF GOODS_MOD_COST_NOW_IS_SAME %}is-same{% ENDIF %}">
        <div class="compare__title">
          <label for="compare_tb_check_price">Цена</label>
          <input class="compare__input square" type="checkbox" id="compare_tb_check_price">
        </div>
        <div class="compare__content swiper-wrapper">
          {% FOR goods_mod_info %}
          <div class="compare__item swiper-slide">
            <div class="compare__price {CURRENCY_CHAR_CODE}">
              {% IF goods_mod_info.PRICE_NOW_WITHOUT_DISCOUNT > goods_mod_info.PRICE_NOW %}
              <s class="price__old" data-price="{goods_mod_info.PRICE_NOW_WITHOUT_DISCOUNT}">{goods_mod_info.PRICE_NOW_WITHOUT_DISCOUNT | money_format}</s>
              {% ELSEIF goods_mod_info.PRICE_OLD > goods_mod_info.PRICE_NOW %}
              <s class="price__old" data-price="{goods_mod_info.PRICE_OLD}">{goods_mod_info.PRICE_OLD | money_format}</s>
              {% ENDIF %}
              <b class="price__now" data-price="{goods_mod_info.PRICE_NOW}">{goods_mod_info.PRICE_NOW | money_format}</b>
            </div>
          </div>
          {% ENDFOR %}
        </div>
      </div>
      <!-- /END Строка №4 Цены товарных модификаций -->

      <!-- Строка №5 Наличие товарных модификаций -->
      <!-- В зависимости от настроек на сайте покажем либо количественное отображение остатка товаров, либо текстовое -->
      {% IF SETTINGS_COMPARE_REST_VALUE_DISPLAY_TYPE=1%}
      <div class="compare__line swiper {% IF GOODS_MOD_REST_VALUE_IS_SAME %}is-same{% ENDIF %}">
        <div class="compare__title">
          <label for="compare_tb_check_rest">Наличие</label>
          <input class="compare__input square" type="checkbox" id="compare_tb_check_rest">
        </div>
        <div class="compare__content swiper-wrapper">
          {% FOR goods_mod_info %}
          <div class="compare__item swiper-slide">
            <span>{goods_mod_info.REST_VALUE} {goods_mod_info.MEASURE_NAME}</span>
          </div>
          {% ENDFOR %}
        </div>
      </div>
      {% ELSE %}
      <div class="compare__line swiper {% IF GOODS_MOD_REST_BOOLEAN_IS_SAME %}is-same{% ENDIF %}">
        <div class="compare__title">
          <label for="compare_tb_check_rest">Наличие</label>
          <input class="compare__input square" type="checkbox" id="compare_tb_check_rest">
        </div>
        <div class="compare__content swiper-wrapper">
          {% FOR goods_mod_info %}
          <div class="compare__item swiper-slide">
            <span>{% IF goods_mod_info.REST_VALUE=0 %}Товара нет в наличии{% ELSE %}Товар есть в наличии{% ENDIF %}</span>
          </div>
          {% ENDFOR %}
        </div>
      </div>
      {% ENDIF %}
      <!-- END Строка №5 Наличие товарных модификаций -->

      <!-- Строка с артикулом покажется, если она заполнена хотя бы для одной товарной модификации -->
      <!-- Строка №6 Артикул товара -->
      {% IFNOT GOODS_ART_NUMBER_IS_EMPTY_FOR_ALL %}
      <div class="compare__line swiper {% IF GOODS_ART_NUMBER_IS_SAME %}is-same{% ENDIF %}">
        <div class="compare__title">
          <label for="compare_tb_check_art_number">Артикул</label>
          <input class="compare__input square" type="checkbox" id="compare_tb_check_art_number">
        </div>
        <div class="compare__content swiper-wrapper">
          {% FOR goods_mod_info %}
          <div class="compare__item swiper-slide">
            <span>{% IF goods_mod_info.ART_NUMBER %}{goods_mod_info.ART_NUMBER}{% ELSE %}Не указан{% ENDIF %}</span>
          </div>
          {% ENDFOR %}
        </div>
      </div>
      {% ENDIF %}
      <!-- END Строка №6 Артикул товара -->

      <!-- Строки №7 и т.д - Характеристики товаров -->
      {% FOR goods_attr_list %}
      <div class="compare__line swiper {% IF goods_attr_list.IS_SAME %}is-same{% ENDIF %}">
        <div class="compare__title">
          <label for="compare_tb_check_attr_{goods_attr_list.ID}">{goods_attr_list.NAME}</label>
          <input class="compare__input square" type="checkbox" id="compare_tb_check_attr_{goods_attr_list.ID}">
        </div>
        <div class="compare__content swiper-wrapper">
          {% FOR values %}
          <div class="compare__item swiper-slide">
            {% IF goods_attr_list.values.VALUE %}
            {goods_attr_list.values.VALUE}
            {% ELSE %}
            <svg class="compare__remove-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" width="14" height="14" aria-hidden="true">
              <path d="M340.44 474.989a52.36 52.36 0 0 1 0 74.022L27.905 861.433a95.21 95.21 0 0 0-.013 134.669 95.267 95.267 0 0 0 134.706.013l312.548-312.461a52.365 52.365 0 0 1 37.015-15.331 52.365 52.365 0 0 1 37.015 15.331L861.71 996.115a95.292 95.292 0 0 0 67.471 27.878 95.303 95.303 0 0 0 67.402-28.045c37.13-37.376 36.119-98.202-1.166-135.475L683.869 549.011A52.316 52.316 0 0 1 668.533 512a52.314 52.314 0 0 1 3.986-20.031 52.3 52.3 0 0 1 11.35-16.98l311.702-311.616c37.132-37.12 38.207-97.587 1.358-134.976-8.822-8.951-19.328-16.068-30.913-20.941a95.309 95.309 0 0 0-73.234-.278 95.28 95.28 0 0 0-31.072 20.707L549.138 340.346a52.372 52.372 0 0 1-74.03 0L163.443 28.73C126.313-8.39 65.829-9.478 28.43 27.373a95.182 95.182 0 0 0-.526 135.181l312.535 312.435z">
              </path>
            </svg>
            {% ENDIF %}
          </div>
          {% ENDFOR %}
        </div>
      </div>
      {% ENDFOR %}
      <!-- END Строки №7 и т.д - Характеристики товаров -->

      <!-- Строка №8 Описание товара -->
      <!-- В зависимости от настроек на сайте покажем либо полное описание товарной модификации, либо краткое
      {% IF SETTINGS_COMPARE_DESCRIPTION_DISPLAY_TYPE=1 %}
        Строка с полным описанием товара покажется, если оно заполнено хотя бы для одной товарной модификации
        {% IFNOT GOODS_GOODS_DESC_LARGE_IS_EMPTY_FOR_ALL %}
        <div style="display: none;" class="compare__line {% IF GOODS_GOODS_DESC_LARGE_IS_SAME %}is-same{% ENDIF %}">
          <div class="compare__title">
            <label for="compare_tb_check_description_large">Описание</label>
            <input class="compare__input square" type="checkbox" id="compare_tb_check_description_large">
          </div>
          <div class="compare__content swiper-wrapper">
            {% FOR goods_mod_info %}
            <div class="compare__item swiper-slide">
              <div class="html-description">
                {% IF goods_mod_info.GOODS_DESCRIPTION_SHORT %}
                  <p>{goods_mod_info.GOODS_DESCRIPTION_SHORT}</p>
                {% ENDIF %}
                {% IF goods_mod_info.GOODS_DESCRIPTION_LARGE %}
                  <p>{goods_mod_info.GOODS_DESCRIPTION_LARGE}</p>
                {% ENDIF %}
              </div>
            </div>
          {% ENDFOR %}
          </div>
        </div>
        {% ENDIF %}
      {% ELSE %}
       Строка с кратким описанием товара покажется, если оно заполнено хотя бы для одной товарной модификации
        {% IFNOT GOODS_GOODS_DESC_SHORT_IS_EMPTY_FOR_ALL %}
        <div style="display: none;" class="compare__line {% IF GOODS_GOODS_DESC_SHORT_IS_SAME %}is-same{% ENDIF %}">
          <div class="compare__title">
            <label for="compare_tb_check_description_short">Описание</label>
            <input class="compare__input square" type="checkbox" id="compare_tb_check_description_short">
          </div>
          <div class="compare__content swiper-wrapper">
            {% FOR goods_mod_info %}
            <div class="compare__item swiper-slide">
              <div class="html-description">
                {% IF goods_mod_info.GOODS_DESCRIPTION_SHORT %}
                  <p>{goods_mod_info.GOODS_DESCRIPTION_SHORT}</p>
                {% ENDIF %}
                {% IF goods_mod_info.GOODS_DESCRIPTION_LARGE%}
                  <p>{goods_mod_info.GOODS_DESCRIPTION_LARGE}</p>
                {% ENDIF %}
              </div>
            </div>
            {% ENDFOR %}
          </div>
        </div>
        {% ENDIF %}
      {% ENDIF %}
      END Строка №8 Описание товара -->
    </div>
    <!-- END Тело таблицы сравнения товаров -->

    <!-- Управление выбранными строками -->
    <div class="compare__buttons">
      <button class="compare__button-hide is-hide" type="button" title="Скрыть выбранные">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="24" height="24" aria-hidden="true">
          <path d="m5.24 22.51 1.43-1.42A14.06 14.06 0 0 1 3.07 16C5.1 10.93 10.7 7 16 7a12.38 12.38 0 0 1 4 .72l1.55-1.56A14.72 14.72 0 0 0 16 5 16.69 16.69 0 0 0 1.06 15.66a1 1 0 0 0 0 .68 16 16 0 0 0 4.18 6.17Z"></path>
          <path d="M12 15.73a4 4 0 0 1 3.7-3.7l1.81-1.82a6 6 0 0 0-7.33 7.33ZM30.94 15.66a16.4 16.4 0 0 0-5.74-7.44L30 3.41 28.59 2 2 28.59 3.41 30l5.1-5.1A15.29 15.29 0 0 0 16 27a16.69 16.69 0 0 0 14.94-10.66 1 1 0 0 0 0-.68ZM20 16a4 4 0 0 1-6 3.44L19.44 14a4 4 0 0 1 .56 2Zm-4 9a13.05 13.05 0 0 1-6-1.58l2.54-2.54a6 6 0 0 0 8.35-8.35l2.87-2.87A14.54 14.54 0 0 1 28.93 16C26.9 21.07 21.3 25 16 25Z"></path>
          <path fill="none" d="M0 0h32v32H0z" data-name="&lt;Transparent Rectangle&gt;"></path>
        </svg>
        <span>Скрыть выбранные</span>
      </button>
      <button class="compare__button-show button-secondary is-hide" type="button" title="Отобразить скрытые">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="24" height="24" aria-hidden="true">
          <path d="M30.94 15.66A16.69 16.69 0 0 0 16 5 16.69 16.69 0 0 0 1.06 15.66a1 1 0 0 0 0 .68A16.69 16.69 0 0 0 16 27a16.69 16.69 0 0 0 14.94-10.66 1 1 0 0 0 0-.68ZM16 25c-5.3 0-10.9-3.93-12.93-9C5.1 10.93 10.7 7 16 7s10.9 3.93 12.93 9C26.9 21.07 21.3 25 16 25Z"></path>
          <path d="M16 10a6 6 0 1 0 6 6 6 6 0 0 0-6-6Zm0 10a4 4 0 1 1 4-4 4 4 0 0 1-4 4Z"></path>
          <path fill="none" d="M0 0h32v32H0z" data-name="&lt;Transparent Rectangle&gt;"></path>
        </svg>
        <span>Отобразить скрытые</span>
      </button>
      <a class="button button-empty" href="{COMPARE_RESET_URL}" title="Очистить список сравнения">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 384" width="24" height="24" aria-hidden="true">
          <path d="M368 176c-8.832 0-16 7.168-16 16 0 88.224-71.776 160-160 160S32 280.224 32 192 103.776 32 192 32c42.952 0 83.272 16.784 113.536 47.264 6.224 6.264 16.36 6.304 22.624.08 6.272-6.224 6.304-16.36.08-22.632C291.928 20.144 243.536 0 192 0 86.128 0 0 86.128 0 192s86.128 192 192 192c105.864 0 192-86.128 192-192 0-8.832-7.168-16-16-16z"></path>
          <path d="m214.624 192 36.688-36.688c6.248-6.248 6.248-16.376 0-22.624s-16.376-6.248-22.624 0L192 169.376l-36.688-36.688c-6.24-6.248-16.384-6.248-22.624 0-6.248 6.248-6.248 16.376 0 22.624L169.376 192l-36.688 36.688c-6.248 6.248-6.248 16.376 0 22.624C135.808 254.44 139.904 256 144 256s8.192-1.56 11.312-4.688L192 214.624l36.688 36.688C231.816 254.44 235.904 256 240 256s8.184-1.56 11.312-4.688c6.248-6.248 6.248-16.376 0-22.624L214.624 192z"></path>
        </svg>
        <span>Очистить список</span>
      </a>
    </div>
    <!-- END Управление выбранными строками -->
  </div>
  {% ENDIF %}
</div>